---
- git: https://github.com/osism/generics.git
  version: master
  files:
    - src: molecule/ansible.cfg
      dst: molecule/default/ansible.cfg
    - src: molecule/*.yml
      dst: molecule/default/
    - src: molecule/group_vars/*.yml
      dst: molecule/default/group_vars/
    - src: ansible-collection/gilt.yml
      dst: ./
    - src: ansible/tox.ini
      dst: ./
    - src: ansible/.gitignore
      dst: ./.gitignore
    - src: ansible/render-template.py
      dst: ./render-template.py
    - src: ansible-collection/meta.yml
      dst: meta/main.yml
    - src: ansible-collection/README.md
      dst: ./
      post_commands:
        - python3 render-template.py README.md
        - python3 render-template.py meta/main.yml
        - python3 render-template.py molecule/default/molecule.yml
        - python3 render-template.py tox.ini
        - rm -f render-template.py
